<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mytalorzone-Collections</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav>
        <div class="header-cta" style="background-color: aqua;">
            <p>Chritmas offer is here, Grab it</p>
        </div>
        <hr>
        <div class="header-container">
            <div class="logo">
                <img src="" alt="">
            </div>
            <div class="search-bar">
                <input type="text">

            </div>
            <a href=""><span class="material-symbols-outlined">
                favorite
                </span></a>
            <a href=""><span class="material-symbols-outlined">
                favorite
                </span></a>
            <a href=""><span class="material-symbols-outlined">
                favorite
                </span>
                favorite
                </span></a>
        </div>
        <hr>
        </nav>
        <div class="product-list">
            <div class="side-menu">
                <ul class="side-menu-list">
                    <li>All Collections</li>
                    <li>Ethnic Collections
                    <ul class="submenu">
                    <li><a href="">Chudidhar Set</a></li>
                    <li><a href="">Chudidhar Set</a></li>
                    <li><a href="">Chudidhar Set</a></li>  
                </ul>
            </li>
                <li>Trendy Tops
                <ul class="submenu">
                    <li>Crop Top</li>
                    <li>Crop Top</li>
                    <li>Crop Top</li>

                </ul>
            </li>
                <li>Denim Jeans
                <ul class="submenu">
                    <li>Slim Fit</li>
                    <li>Slim Fit</li>
                    <li>Slim Fit</li>
                </ul>
            </li>
                <li>winter Collections
                <ul class="submenu">
                    <li>trench coat</li>
                    <li>trench coat</li>
                    <li>trench coat</li>
                </ul>
            </li>
            </ul>


            </div>
            <div class="new-arrival-grid" id="productList">
                
                    
            </div>
        </div>
        
        

        <script>
            // Function to fetch products and display them
            async function fetchProducts() {
                try {
                    // Fetch products from the backend API
                    const response = await fetch('http://localhost:5000/get-product');
                    const result = await response.json();
    
                    // If the request is successful, display products
                    if (result.success) {
                        const productList = document.getElementById('productList');
                        productList.innerHTML = '';  // Clear the list before adding new products
    
                        result.products.forEach(product => {
                            const productItem = document.createElement('div');
                            productItem.classList.add('product-item');
                            productItem.innerHTML = `
                                <img src="${product.img}" alt="${product.name}" class="product-img">
                                <h3>${product.name}</h3>
                                <p>Price: $${product.price}</p>
                                <p>Category: ${product.category}</p>
                                <p>Rating: ${product.rating}</p>
                                
                            `;
                            productList.appendChild(productItem);
                        });
                    } else {
                        console.error('Failed to load products:', result.message);
                    }
                } catch (error) {
                    console.error('Error fetching products:', error);
                }
            }
    
            // Call the function to load products on page load
            window.onload = fetchProducts;
        </script>
</body>
</html>